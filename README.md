# Проект - "Mesto (Настройка облачного сервера Яндекс Облако и деплой на него проекта)"

Адрес проекта:
Домен - mestosprint15.tk так же www.mestosprint15.tk
публичный IP - 84.201.149.48

Учебный проект - приложение для публикации и последующего хранения/редактирования/удаления изображений.

## Использованный стек:
 - node.js, express.js, MongoDB, mongoose, bcryptjs, jsonwebtoken, validator, helmet, cookie-parser
 
## Инструменты
 - Сборка Webpack (^4.39.2): 2 режима сборки dev и prod.
 
## Для установки:
1. [Склонировать](https://git-scm.com/book/ru/v2/Appendix-C%3A-%D0%9A%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%D1%8B-Git-%D0%9A%D0%BB%D0%BE%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5-%D0%B8-%D1%81%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5-%D1%80%D0%B5%D0%BF%D0%BE%D0%B7%D0%B8%D1%82%D0%BE%D1%80%D0%B8%D0%B5%D0%B2) репозиторий на локальный компьютер
1. После распаковки, в директории проекта выполнить команду: 

    ```npm install``` 
(должен быть установлен [Node.js](https://nodejs.org/en/))
2. После установки зависимостей,в директории проекта для режима разработки (dev mode hot-reload), выполнить:

    ```npm run dev```
3. Для получения production (prod mode) версии проекта в директории проекта, выполнить:

    ```npm run build```
4. Созданная папка **dist** является production версией проекта

## Выполненны слудующие задачи:
1. Все ошибки обрабатываются централизованно

2. Тела запросов и, где необходимо, заголовки и параметры, валидируются по определённым схемам. Если запрос не соответствует схеме, обработка не передаётся контроллеру и клиент получает ошибку валидации

3. Все запросы и ответы записываются в файл request.log

4. Все ошибки записываются в файл error.log

5. Файлы логов не добавляются в репозиторий

6. К серверу можно обратиться по публичному IP-адресу, указанному в README.md;

7. К серверу можно обратиться по http и по https, используя домен, указанный в README.md

8. Секретный ключ для создания и верификации JWT хранится на сервере в .env файле. Этот файл не добавляется в git

9. В режиме разработки (когда process.env.NODE_ENV !== 'production') код запускается и работает без наличия .env файла

10. Сервер самостоятельно восстанавливается после GET-запроса на URL /crash-test
